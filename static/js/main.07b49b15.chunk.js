(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{61:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),c=a(22),r=a.n(c),l=(a(61),a(20)),i=a(9),o=a(10),j=a(2),d=function(){var e=Object(n.useContext)(E),t=e.state,a=(e.dispatch,function(){return t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.c,{className:"nav-link",to:"/addDetail",children:"Add Detail"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.c,{className:"nav-link ",to:"/logout",children:"Logout"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"nav-item active",children:Object(j.jsx)(o.c,{className:"nav-link",to:"/signup",children:"Register"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(o.c,{className:"nav-link",to:"/login",children:"Login"})})]})});return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(j.jsx)(o.c,{className:"navbar-brand",to:"/",children:"Home"}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(j.jsx)("ul",{className:"navbar-nav ms-auto",children:Object(j.jsx)(a,{})})})]})})},b=a(13),u=a.n(b),p=a(19),x=a(21),O=a(15),h=a.p+"static/media/log.4aa51fc9.jpg",m=function(){var e,t,a=Object(i.f)(),s=Object(n.useContext)(E),c=(s.state,s.dispatch),r={border:"none",borderBottom:"1px solid #1890ff",outline:"none"},d=Object(n.useState)({email:"",password:""}),b=Object(l.a)(d,2),m=b[0],f=b[1],g=function(a){a.preventDefault(),e=a.target.name,t=a.target.value,f(Object(O.a)(Object(O.a)({},m),{},Object(x.a)({},e,t)))},v=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=m.email,s=m.password,e.next=4,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s})});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent,401===r.status?alert("please fill all details"):402===r.status?alert("Credentials does not match"):(c({type:"USER",payload:!0}),alert("Login Sucesfull"),a.push("/"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"container d-flex justify-content-center my-5",children:Object(j.jsxs)("div",{className:"row ",children:[Object(j.jsxs)("div",{className:"col text-center",children:[Object(j.jsx)("img",{src:h,alt:"Registration img",style:{height:"330px"},className:"rounded float-right"}),Object(j.jsx)("div",{className:"",children:Object(j.jsx)(o.c,{to:"/signup",children:"New one? Register now."})})]}),Object(j.jsxs)("div",{className:"col text-center py-5",children:[Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("blockquote",{class:"blockquote text-center",children:Object(j.jsx)("h2",{class:"mb-0",children:Object(j.jsx)("b",{children:"Login"})})}),Object(j.jsx)("br",{}),Object(j.jsxs)("form",{className:"",onSubmit:v,method:"POST",children:[Object(j.jsx)("i",{className:"fas fa-mail-bulk d-inline px-2",style:{fontSize:24}}),Object(j.jsx)("input",{type:"email",className:"d-inline",value:m.email,onChange:g,placeholder:"Email..",style:r,name:"email",autoComplete:"off"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("i",{className:"fas fa-lock d-inline px-2",style:{fontSize:24}}),Object(j.jsx)("input",{type:"password",className:"d-inline",value:m.password,onChange:g,placeholder:"Password..",style:r,name:"password",autoComplete:"off"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary"})]})]})]})})})},f=a.p+"static/media/reg.dffbf42d.jpg",g=function(){var e,t,a=Object(i.f)(),s={border:"none",borderBottom:"1px solid #1890ff",outline:"none"},c=Object(n.useState)({name:"",email:"",password:"",cpassword:""}),r=Object(l.a)(c,2),d=r[0],b=r[1],h=function(a){a.preventDefault(),e=a.target.name,t=a.target.value,b(Object(O.a)(Object(O.a)({},d),{},Object(x.a)({},e,t)))},m=function(){var e=Object(p.a)(u.a.mark((function e(t){var n,s,c,r,l,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=d.name,s=d.email,c=d.password,r=d.cpassword,e.next=4,fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:s,password:c,cpassword:r})});case 4:return l=e.sent,e.next=7,l.json();case 7:i=e.sent,400!==l.status&&i?422!==l.status&&i?(alert("Register sucessfully"),a.push("/login")):alert("Sorry e-mail already exits"):alert("please fill all details");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"container d-flex justify-content-center my-5",children:Object(j.jsxs)("div",{className:"row ",children:[Object(j.jsxs)("div",{className:"col text-center px-5 py-5",children:[Object(j.jsx)("blockquote",{class:"blockquote text-center",children:Object(j.jsx)("h2",{class:"mb-0",children:Object(j.jsx)("b",{children:"Register"})})}),Object(j.jsx)("br",{}),Object(j.jsxs)("form",{className:"",onSubmit:m,method:"POST",children:[Object(j.jsx)("i",{className:"fas fa-user-alt d-inline px-2",style:{fontSize:24}}),Object(j.jsx)("input",{type:"text",className:"d-inline",value:d.name,onChange:h,placeholder:"Name..",style:s,name:"name",autoComplete:"off"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("i",{className:"fas fa-mail-bulk d-inline px-2",style:{fontSize:24}}),Object(j.jsx)("input",{type:"email",className:"d-inline",value:d.email,onChange:h,placeholder:"Email..",style:s,name:"email",autoComplete:"off"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("i",{className:"fas fa-lock d-inline px-2",style:{fontSize:24}}),Object(j.jsx)("input",{type:"password",className:"d-inline",value:d.password,onChange:h,placeholder:"Password..",style:s,name:"password",autoComplete:"off"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("i",{className:"fas fa-lock d-inline px-2",style:{fontSize:24}}),Object(j.jsx)("input",{type:"password",className:"d-inline",value:d.cpassword,onChange:h,placeholder:"Confirm Password..",style:s,name:"cpassword",autoComplete:"off"}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"submit",value:"Register",className:"btn btn-primary"})]})]}),Object(j.jsxs)("div",{className:"col text-center",children:[Object(j.jsx)("img",{src:f,alt:"Registration img",style:{height:"250px"},className:"my-5"}),Object(j.jsx)("div",{className:"",children:Object(j.jsx)(o.c,{to:"/login",children:"Already a member? Login."})})]})]})})})},v=a(102),y=a(106),N=a(103),k=a(104),w=a(105),C=(a(97),function(){var e,t,a,s,c=Object(i.f)(),r=Object(n.useState)([]),o=Object(l.a)(r,2),d=o[0],b=o[1],h=Object(n.useState)({bnk:"",ifsc:"",user:"",id:""}),m=Object(l.a)(h,2),f=m[0],g=m[1],C={border:"none",borderBottom:"1px solid #1890ff",outline:"none"},S=function(){var e=Object(p.a)(u.a.mark((function e(){var t,a,n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/addDetails",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,console.log(a[0].email),g(Object(O.a)(Object(O.a)({},f),{},{user:a[0].email,bnk:"",ifsc:"",id:""})),200!==!t.status&&a){e.next=12;break}throw n=new Error(n);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),c.push("/login");case 18:return e.prev=18,e.next=21,fetch("/bnkDetails",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 21:return s=e.sent,e.next=24,s.json();case 24:r=e.sent,b(r),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(18),console.log(e.t1),c.push("/login");case 32:case"end":return e.stop()}}),e,null,[[0,14],[18,28]])})));return function(){return e.apply(this,arguments)}}(),T=function(a){a.preventDefault(),e=a.target.name,t=a.target.value,g(Object(O.a)(Object(O.a)({},f),{},Object(x.a)({},e,t)))},D=function(e){e.preventDefault(),a=e.target.name,s=e.target.value,g(Object(O.a)(Object(O.a)({},f),{},Object(x.a)({},a,s)))},P=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n,s,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=f.bnk,n=f.ifsc,s=f.id,e.next=4,fetch("/upDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bnk:a,ifsc:n,id:s})});case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,402!==c.status&&r?405!==c.status&&r?(alert("Bank details updated sucesfully"),t.target.reset(),S()):alert("Bank account already exits"):alert("Please fill all details");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n,s,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=f.bnk,n=f.ifsc,s=f.user,e.next=4,fetch("/addDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bnk:a,ifsc:n,user:s})});case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,402!==c.status&&r?405!==c.status&&r?(t.target.reset(),alert("Bank details added sucesfully"),S()):alert("Bank account already exits"):alert("Please fill all details");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=f.id,e.next=4,fetch("/delDetails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a})});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,402!==n.status&&s?(alert("Bank details deleted sucesfully"),t.target.reset(),S()):alert("Please select  field");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){S()}),[]);var B=Object(n.useState)(!1),R=Object(l.a)(B,2),A=R[0],L=R[1],q=function(){return L(!A)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container border my-5 px-5 py-5",children:[Object(j.jsxs)("div",{className:"container my-2 px-5 py-5",children:[Object(j.jsx)("h2",{children:Object(j.jsx)("b",{children:"Add Bank Details"})}),Object(j.jsxs)("form",{method:"POST",onSubmit:F,children:[Object(j.jsx)("input",{type:"text",value:f.bnk,onChange:T,placeholder:"Bank Account no",required:"true",style:C,name:"bnk",autoComplete:"off"}),"\xa0",Object(j.jsx)("input",{type:"text",value:f.ifsc,onChange:T,placeholder:"IFSC code",required:"true",style:C,name:"ifsc",autoComplete:"off"}),"\xa0",Object(j.jsx)("input",{type:"submit",value:"Add",className:"btn btn-primary"})]})]}),Object(j.jsxs)("table",{className:"table table-striped my-5",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"Series no"}),Object(j.jsx)("th",{scope:"col",children:"Account no"}),Object(j.jsx)("th",{scope:"col",children:"IFSC code"}),Object(j.jsx)("th",{scope:"col",children:"Edit"}),Object(j.jsx)("th",{scope:"col",children:"Delete"})]})}),Object(j.jsx)("tbody",{children:d.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.id}),Object(j.jsx)("td",{children:e.acc_no}),Object(j.jsx)("td",{children:e.ifsc}),Object(j.jsxs)("td",{children:[Object(j.jsx)(v.a,{color:"primary",onClick:function(){q(),g(Object(O.a)(Object(O.a)({},f),{},{id:e.id}))},children:"Edit"}),Object(j.jsxs)(y.a,{isOpen:A,toggle:q,children:[Object(j.jsxs)(N.a,{toggle:q,children:["Bank details to be updated for Series ",f.id]}),Object(j.jsx)(k.a,{children:Object(j.jsx)("div",{className:"container border my-5 px-5 py-5",children:Object(j.jsxs)("form",{onSubmit:P,children:[Object(j.jsx)("input",{type:"text",required:"true",value:f.bnk,onChange:D,name:"bnk",placeholder:"Account No",style:C,autoComplete:""}),"\xa0",Object(j.jsx)("input",{type:"text",required:"true",value:f.ifsc,onChange:D,name:"ifsc",placeholder:"IFSC",style:C,autoComplete:""}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"submit",className:"btn btn-primary"})]})})}),Object(j.jsx)(w.a,{children:Object(j.jsx)(v.a,{color:"secondary",onClick:q,children:"Cancel"})})]})]}),Object(j.jsx)("td",{children:Object(j.jsx)("form",{onSubmit:E,children:Object(j.jsx)("input",{type:"submit",onClick:function(){return g(Object(O.a)(Object(O.a)({},f),{},{id:e.id}))},value:"Delete",className:"btn btn-danger"})})})]})}))})]})]})})}),S=a.p+"static/media/home.31a503f1.jpg",T=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"container my-5 ",children:Object(j.jsxs)("div",{className:"px-5 py-5 mx-5 text-center",children:[Object(j.jsx)("img",{src:S,alt:"Home page"}),Object(j.jsx)("h2",{children:Object(j.jsx)("b",{children:"Happy Journey"})})]})})})},D=function(){var e=Object(i.f)(),t=Object(n.useContext)(E),a=(t.state,t.dispatch);return Object(n.useEffect)(Object(p.a)(u.a.mark((function t(){var n,s,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:return n=t.sent,t.next=6,n.json();case 6:if(s=t.sent,200!==!n.status&&s){t.next=12;break}throw c=new Error(c);case 12:a({type:"USER",payload:!1}),alert("Logged Out sucesfully"),e.push("/login");case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0),e.push("/login");case 21:case"end":return t.stop()}}),t,null,[[0,17]])}))),[]),Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Loged out"})})},P=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container my-5",children:[Object(j.jsx)("h1",{children:Object(j.jsx)("b",{children:"Something Went wrong"})}),Object(j.jsx)(o.c,{to:"/",children:"Return to home page"})]})})},F=function(e,t){return"USER"===t.type?t.payload:e},E=Object(n.createContext)(),B=function(){return Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",children:Object(j.jsx)(T,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/login",children:Object(j.jsx)(m,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/signup",children:Object(j.jsx)(g,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/addDetail",children:Object(j.jsx)(C,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/logout",children:Object(j.jsx)(D,{})}),Object(j.jsx)(i.a,{children:Object(j.jsx)(P,{})})]})},R=function(){var e=Object(n.useReducer)(F,null),t=Object(l.a)(e,2),a=t[0],s=t[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(E.Provider,{value:{state:a,dispatch:s},children:[Object(j.jsx)(d,{}),Object(j.jsx)(B,{})]})})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,107)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(R,{})})}),document.getElementById("root")),A()}},[[96,1,2]]]);
//# sourceMappingURL=main.07b49b15.chunk.js.map